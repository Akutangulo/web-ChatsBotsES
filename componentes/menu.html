<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Menu ChatsBotsES</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>ü§ñ</text></svg>">

    <link rel="stylesheet" href="./assets/css/chatsbotses.css">
<style>
@import url('https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@100..1000&family=Montserrat:ital,wght@0,100..900;1,100..900&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap');

@font-face {
font-family: 'bauhouse_akutangulo';
src: url('./assets/fonts/bauhouse_akutangulo.eot'); /* archivo EOT para IE */ 
src: url('./assets/fonts/bauhouse_akutangulo.eot?#iefix') format('embedded-opentype'),
url('./assets/fonts/bauhouse_akutangulo.ttf') format('truetype'); /* archivo TTF para navegadores CSS3 */ 
}

:root {
    /* Altura del bot√≥n (centralizada para c√°lculos) */
    --btn-h: 50px; 
    --btn-half: calc(var(--btn-h) / 2); /* translateZ coherente */

    --color-akutangulo: #9300D3;
    --color-chatsbotses: #0ff;
    --color-menu: #7a00b3;
    --primary: #8e24aa;
    --secondary: #d500f9;
    --light: #ea80fc;
    --bg: #f9f0ff;
    --text: #4a0072;
    --hover-bg: #b388ff;
    --color-cta: #00C2FF;
    --color-transparente: rgba(245,247,255,0.3);
    --bg-primary: #1e0b2d;
    --bg-secondary: #31164a;
    --bg-surface: #4a1d7d;
    --text-primary: #e1b0ff;
    --text-secondary: #b080e0;
    --text-muted: #8a5ca9;
    --accent-primary: #d500f9;
    --accent-secondary: #a267ff;
    --border: #5e3aad;
    --color-sombra: #9300D3;
    /* Redes Sociales */
    --color-facebook: #3b5999;
    --color-twitter: #55acee;
    --color-telegram: #0088cc;
}

.tema-claro {
    --bg-primary: #f9f4ff;
    --bg-secondary: #f0e6ff;
    --bg-surface: #e6d8ff;
    --text-primary: #2c004b;
    --text-secondary: #4e2a72;
    --text-muted: #7b5ca3;
    --accent-primary: #7b1fa2;
    --accent-secondary: #8e2eb4;
    --border: #b197d8;
    --color-sombra: #0ff;
}

    
/* ===== EFECTOS ===== */
.pulse {
  box-shadow: 0 0 0 0 rgb(0, 255, 255);
  cursor: pointer;
  animation: pulse 1.25s infinite cubic-bezier(0.66, 0, 0, 1);
}

.pulse:hover {
  animation: none;
}

@keyframes pulse {
  to {
    box-shadow: 0 0 0 10px rgba(232, 76, 61, 0);
  }
}

/******************************************
/* ===== NAVBAR GENERAL ===== */
.navbar {
  background-color: var(--color-akutangulo);
  padding: 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: relative;
  flex-wrap: wrap;
  z-index: 1001;
  margin: -5px 0 0 0;
}

.propmts-ia {
  background-color: var(--color-menu);
  display: flex;
  justify-content: space-between;
  padding: 0.6rem;
}

/* ===== MARCA ===== */
.brand-chatsbotses {
  font-size: 1.5rem;
  font-weight: bold;
  color: var(--bg);
  display: flex;
  align-items: center;
  flex-shrink: 0;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
}

.brand-chatsbotses a {
  text-decoration: none;
  color: inherit;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.brand-chatsbotses .icon {
  display: inline-block;
  flex-shrink: 0;
}

.brand-chatsbotses .marca {
  display: inline-block;
  font-size: 2.3rem;
}

/* ===== MEN√ö PRINCIPAL ===== */
.menu {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: flex-end;
  flex-wrap: wrap;
}

.menu li {
  position: relative;
}

.menu li:hover {
  background-color: var(--primary);
  border-radius: 8px;
}

.menu a {
  text-decoration: none;
  color: var(--bg);
  display: block;
  border-radius: 10px;
  transition: background-color 0.3s, color 0.3s;
  font-size: 1.3rem;
  white-space: nowrap;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
}

/* Li sin submenu (Inicio, LLM, Precios, Contacto) */
.menu > li:not(.has-submenu) > a {
    padding: 0.5rem 1rem;
}

/* ===== SUBMEN√ö ===== */
.has-submenu {
  position: relative;
}

.menu-item-wrapper { 
    display: flex;
    align-items: center;
    padding: 0.5rem 1rem; 
}

.menu-item-wrapper > a {
    padding: 0; 
    flex-grow: 1; 
}

.submenu-toggle { 
  background: none;
  border: none;
  color: var(--bg);
  cursor: pointer;
  font-size: 0.9rem;
  margin-left: 0.3rem;
  transition: transform 0.3s ease;
  padding: 0.3rem;
  line-height: 1;
}

.has-submenu.open .submenu-toggle {
  transform: rotate(180deg);
}

.submenu {
  list-style: none;
  margin: 0;
  padding: 0;
  position: absolute;
  top: 100%;
  right: 0;
  background-color: var(--color-menu);
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  transition: max-height 0.3s ease, opacity 0.3s ease, visibility 0.3s 0.3s;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
  z-index: 1000;
  visibility: hidden;
}

.has-submenu.open .submenu {
  max-height: fit-content;
  opacity: 1;
  visibility: visible;
  padding: 0.5rem 1rem;
}

.submenu li a {
  padding: 0.4rem 0.5rem;
  font-size: 1.1rem;
  display: block;
}

/* **NUEVO CSS para UX de ESCRITORIO (Focus-within/Hover)** */
@media (min-width: 769px) { 
    /* Abrir submen√∫ al pasar el rat√≥n o al navegar con el teclado */
    .has-submenu:hover .submenu,
    .has-submenu:focus-within .submenu {
        max-height: fit-content;
        opacity: 1;
        visibility: visible;
        padding: 0.5rem 1rem;
        /* La transici√≥n de visibilidad es casi inmediata para abrir, pero se retrasa para cerrar (por defecto) */
        transition: max-height 0.3s ease, opacity 0.3s ease, visibility 0s; 
    }
    
    /* Girar la flecha al abrir por hover/focus-within */
    .has-submenu:hover .submenu-toggle,
    .has-submenu:focus-within .submenu-toggle {
        transform: rotate(180deg);
    }
    
}


/* ===== HAMBURGUESA ===== */
.hamburger {
  display: none;
  font-size: 2rem;
  cursor: pointer;
  color: var(--bg);
  background: none;
  border: none;
  padding: 0.5rem;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
  .navbar {
    padding: 0.5rem;
  }

  .menu a {
    white-space: normal;
  }

  .menu {
    flex-direction: column;
    position: absolute;
    top: 200%;
    left: 0;
    width: 100%;
    background-color: var(--color-menu);
    z-index: 999;
    max-height: 0;
    opacity: 0;
    visibility: hidden;
    pointer-events: none;
    transition: max-height 0.6s ease, opacity 0.6s ease, visibility 0.6s 0.6s, transform 0.6s ease;
    overflow-y: auto;
    transform: translateY(-100px);  
  }

  .menu.active {
    max-height: 150vh;
    opacity: 1;
    visibility: visible;
    pointer-events: auto;
    transition: max-height 0.6s ease, opacity 0.6s ease, visibility 0s, transform 0.6s ease;
    top: 200%;  
    transform: translateY(0);  
  }

  .menu li {
    width: 100%;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .menu li:last-child {
    border-bottom: none;
  }

  .menu-item-wrapper {
    display: flex; 
    align-items: center; 
    padding: 0; 
    width: 100%;
  }

  .menu-item-wrapper > a {
    padding: 0.8rem 1rem; 
    flex: 1; 
  }

  .submenu-toggle {
    margin-left: auto;
    font-size: 1rem;
    padding: 0.8rem 1.5rem; /* Asegurar √°rea de click grande y alineaci√≥n */
  }

  .submenu {
    position: static;
    background-color: rgba(0, 0, 0, 0.2);
    box-shadow: none;
    width: 90%;
    padding: 0;
    max-height: 0;
    opacity: 0;
    visibility: hidden;
    transition: max-height 0.3s ease, opacity 0.3s ease;
  }

  .has-submenu.open .submenu {
    margin: 0.5rem 1rem;
    padding: 0.5rem 0;
    max-height: 500px;
    opacity: 1;
    visibility: visible;
  }

  .submenu li {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .submenu li:last-child {
    border-bottom: none;
  }

  .submenu li a {
    padding: 0.8rem 1.5rem;
    border-top: none;
    font-size: 1rem;
  }

  .hamburger {
    display: block;
  }

  iframe.presentacion-chatsbotses {
    height: 380px;
  }
}

@media (max-width: 480px) {
  .brand-chatsbotses {
    font-size: 1.8rem;
  }

  .brand-chatsbotses .marca {
    font-size: 1.8rem;
  }

  .navbar {
    padding: 0.5rem;
  }

  iframe.presentacion-chatsbotses {
    height: 250px;
  }
}

/* ===== OTROS ELEMENTOS ===== */

iframe.presentacion-chatsbotses {
    width: 100%;
    height: 480px;
    border: none;
}

@media (max-width: 768px) {
    iframe.presentacion-chatsbotses {
        height: 350px;
    }
}

@media (max-width: 480px) {
    iframe.presentacion-chatsbotses {
        height: 250px;
    }
}


/* ===== CTA BUTTON ===== */
.cta-button {
  background-color: var(--color-chatsbotses);
  padding: 0.5rem 1rem;
  margin: 0.3rem;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1rem;
  color: #121212;
  font-weight: 600;
  text-decoration: none;
  display: inline-block;
}

    </style>
</head>
<body>
    <header>
        <iframe class="presentacion-chatsbotses" src="./assets/robot-chatbot.html" title="Chatsbotses Inteligentes - Soluciones de chatbots y automatizaciones con inteligencia artificial para tu empresa o negocio"></iframe>
        
  <nav class="navbar">
    <div class="brand-chatsbotses">
      <a href="#inicio">
        <span class="icon"><icono-chatsbotses size="50px"></icono-chatsbotses></span>
        <span class="marca neon-text">ChatsBots.ES</span>
      </a>
    </div>

    <button class="hamburger" id="hamburger" type="button" aria-label="Abrir men√∫" aria-expanded="false" aria-controls="menu">‚ò∞</button>
    <ul class="menu" id="menu"> 
      <!-- Enlace simple -->
      <li><a href="#inicio">Inicio</a></li>

      <!-- Enlace con Submen√∫-->
      <li class="has-submenu">
        <div class="menu-item-wrapper">
            <a href="#chatbots">Chatbots IA</a>
            <button class="submenu-toggle" type="button" aria-label="Alternar submen√∫ de Chatbots IA" aria-expanded="false" aria-controls="submenu-chatbots">
                <span aria-hidden="true">‚ñº</span>
            </button>
        </div>
        <ul class="submenu" id="submenu-chatbots">
          <li><a href="#chatbots">Ver todos los Chatbots IA</a></li>
          <li><a href="#chatbots-atencion-cliente">Atenci√≥n al cliente 24/7</a></li>
          <li><a href="#chatbots-internos">Para empleados</a></li>
          <li><a href="#chatbots-ia-generativa">Con IA generativa</a></li>
          <li><a href="#memoria-rag">Memoria RAG / Contexto</a></li>
        </ul>
      </li>

      <!-- Enlace con Submen√∫ -->
      <li class="has-submenu">
        <div class="menu-item-wrapper">
            <a href="#agentes-ia">Agentes IA</a>
            <button class="submenu-toggle" type="button" aria-label="Alternar submen√∫ de Agentes IA" aria-expanded="false" aria-controls="submenu-agentes">
                <span aria-hidden="true">‚ñº</span>
            </button>
        </div>
        <ul class="submenu" id="submenu-agentes">
          <li><a href="#agentes-ia">Ver todos los Agentes IA</a></li>
          <li><a href="#automatizaciones">Automatizaciones</a></li>
          <li><a href="#gestor-correos">Gestor de correos</a></li>
          <li><a href="#ordenacion-bandeja">Ordenaci√≥n de bandeja</a></li>
          <li><a href="#otras-automatizaciones">Otras a medida</a></li>
        </ul>
      </li>

      <!-- Enlace simple -->
      <li><a href="#modelos-llm-chatsbotses">Modelos LLM</a></li>

      <!-- Enlace con Submen√∫ -->
      <li class="has-submenu">
        <div class="menu-item-wrapper">
            <a href="#recursos">Recursos</a>
            <button class="submenu-toggle" type="button" aria-label="Alternar submen√∫ de Recursos" aria-expanded="false" aria-controls="submenu-recursos">
                <span aria-hidden="true">‚ñº</span>
            </button>
        </div>
        <ul class="submenu" id="submenu-recursos">
          <li><a href="#recursos">Ver todos los Recursos</a></li>
          <li><a href="#panel-control-chatsbotses">Panel de control Akutangulo</a></li>
          <li><a href="#como-crear-prompts">C√≥mo crear Prompts</a></li>
          <li><a href="#guia-openwebui">Gu√≠a Open Web UI</a></li>
          <li><a href="#guia-notion">Gu√≠a Notion</a></li>
          <li><a href="#guia-telegram">Gu√≠a Telegram</a></li>
          <li><a href="#que-es-un-chatbot-ia">Qu√© es un Chatbot IA</a></li>
          <li><a href="#que-es-un-agente-ia">Qu√© es un Agente IA</a></li>
          <li><a href="#que-es-una-automatizacion-ia">Qu√© es una Automatizaci√≥n IA</a></li>
        </ul>
      </li>

      <!-- Enlace simple -->
      <li><a href="#precios-chatsbotses-automatizaciones">Precios</a></li>
      <li><a href="#contacto">Contacto</a></li>
    </ul>
  </nav>

    <nav class="propmts-ia">
      <button type="button" class="cta-button pulse btn-contacto">Pide tu presupuesto personalizado</button>
      <a href="./como-crear-prompts.html" class="cta-button pulse">C√≥mo crear Prompts efectivos</a>
    </nav>

    </header>
    <main>
        <!-- Contenido principal de la p√°gina -->        
    </main>

<script>
document.addEventListener('DOMContentLoaded', () => {

  // --- SELECCI√ìN DE ELEMENTOS DEL DOM ---
  const hamburger = document.getElementById('hamburger');
  const menu = document.getElementById('menu');
  const submenuItems = document.querySelectorAll('.has-submenu');
  const MOBILE_BREAKPOINT = 768;
  
  // Selector para elementos enfocables (se usa para la trampa de foco)
  const focusableElementsSelector = 'a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])';
  let firstFocusableElement;
  let lastFocusableElement;

  // --- FUNCIONES DE UTILIDAD ---
  const isMobile = () => window.innerWidth <= MOBILE_BREAKPOINT;

  // --- GESTI√ìN DEL MEN√ö M√ìVIL (HAMBURGUESA) ---

  const closeMobileMenu = () => {
    if (!menu.classList.contains('active')) return;
    
    menu.classList.remove('active');
    hamburger.setAttribute('aria-expanded', 'false');
    // Si estamos en m√≥vil, ocultar para lectores de pantalla
    if (isMobile()) menu.setAttribute('aria-hidden', 'true'); 
    closeAllSubmenus(); // Cierra todos los submen√∫s al cerrar el men√∫ principal
  };

  const openMobileMenu = () => {
    if (menu.classList.contains('active')) return;

    menu.classList.add('active');
    hamburger.setAttribute('aria-expanded', 'true');
    // Si estamos en m√≥vil, mostrar para lectores de pantalla
    if (isMobile()) menu.setAttribute('aria-hidden', 'false');
  };

  const toggleMobileMenu = () => {
    menu.classList.contains('active') ? closeMobileMenu() : openMobileMenu();
  };


  // --- GESTI√ìN DE SUBMEN√öS ---

  const closeSubmenu = (item) => {
    if (!item || !item.classList.contains('open')) return;

    // Ahora seleccionamos el nuevo <button>
    const toggle = item.querySelector('.submenu-toggle'); 
    const submenu = item.querySelector('.submenu');

    item.classList.remove('open');
    if (toggle) toggle.setAttribute('aria-expanded', 'false');
    if (submenu) submenu.style.maxHeight = '0px';
  };

  const openSubmenu = (item) => {
    if (!item || item.classList.contains('open')) return;

    // Cierra otros submen√∫s antes de abrir el nuevo para evitar m√∫ltiples abiertos
    closeAllSubmenus();

    // Ahora seleccionamos el nuevo <button>
    const toggle = item.querySelector('.submenu-toggle'); 
    const submenu = item.querySelector('.submenu');

    item.classList.add('open');
    if (toggle) toggle.setAttribute('aria-expanded', 'true');
    
    // Usamos scrollHeight para que la altura sea siempre din√°mica y precisa
    if (submenu) submenu.style.maxHeight = `${submenu.scrollHeight}px`;
  };

  const closeAllSubmenus = () => {
    submenuItems.forEach(closeSubmenu);
  };
  
  // --- GESTI√ìN DE LA TRAMPA DE FOCO (FOCUS TRAP) ---
  const handleFocusTrap = (e) => {
    // Solo activo si el men√∫ est√° abierto y estamos en m√≥vil
    if (!menu.classList.contains('active') || !isMobile()) return;

    // Obtener la lista de elementos enfocables dentro del men√∫
    // .filter(el => el.offsetParent !== null) asegura que est√©n visibles (no display: none)
    const focusableElements = Array.from(menu.querySelectorAll(focusableElementsSelector)).filter(el => el.offsetParent !== null);
    
    if (focusableElements.length === 0) return;

    // El √∫ltimo elemento enfocable es el √∫ltimo enlace del √∫ltimo submen√∫ abierto, o el √∫ltimo enlace simple.
    firstFocusableElement = focusableElements[0];
    lastFocusableElement = focusableElements[focusableElements.length - 1];

    if (e.key === 'Tab' || e.keyCode === 9) {
        if (e.shiftKey) { // Shift + Tab (navegaci√≥n hacia atr√°s)
            if (document.activeElement === firstFocusableElement) {
                lastFocusableElement.focus();
                e.preventDefault();
            }
        } else { // Tab (navegaci√≥n hacia adelante)
            if (document.activeElement === lastFocusableElement) {
                firstFocusableElement.focus();
                e.preventDefault();
            }
        }
    }
  };


  // --- ASIGNACI√ìN DE EVENTOS (EVENT LISTENERS) ---

  // 1. Bot√≥n de hamburguesa
  hamburger.addEventListener('click', (e) => {
    e.stopPropagation();
    toggleMobileMenu();
    
    // Una vez abierto, mover el foco al primer elemento enfocable (enlace "Inicio")
    if (menu.classList.contains('active')) {
        setTimeout(() => { // Esperar la transici√≥n para asegurar que es enfocable
            const firstLink = menu.querySelector('a');
            if (firstLink) firstLink.focus();
        }, 300); 
    }
  });

  // 2. Controladores de submen√∫ (Aplica la Opci√≥n 2: Clic en texto o flecha abre el submen√∫)
  submenuItems.forEach(item => {
    const toggle = item.querySelector('.submenu-toggle'); // El bot√≥n (flecha)
    const link = item.querySelector('.menu-item-wrapper > a'); // El enlace (texto)

    // Listener para el bot√≥n (ya exist√≠a)
    if (toggle) {
      toggle.addEventListener('click', (e) => {
        e.stopPropagation(); 
        item.classList.contains('open') ? closeSubmenu(item) : openSubmenu(item);
      });
    }
    
    // Listener para el enlace (NUEVO: Hace que el clic en el texto ABRA/CIERRE el submen√∫)
    if (link) {
        link.addEventListener('click', (e) => {
            // El preventDefault BLOQUEA LA NAVEGACI√ìN, permitiendo que el clic solo sea un TOGGLE.
            e.preventDefault(); 
            e.stopPropagation(); 
            
            // Abrimos/cerramos el submen√∫, igual que el bot√≥n
            item.classList.contains('open') ? closeSubmenu(item) : openSubmenu(item);
        });
    }

  });
  
  // 3. Cerrar men√∫s al hacer clic fuera de la barra de navegaci√≥n
  document.addEventListener('click', (e) => {
    // Si el clic no es dentro de la navbar
    if (!e.target.closest('.navbar')) {
      closeMobileMenu();
      closeAllSubmenus();
    }
  });

  // 4. Cerrar men√∫ m√≥vil al hacer clic en un enlace de navegaci√≥n
  menu.addEventListener('click', (e) => {
    // Solo si estamos en m√≥vil y el clic es en un <a> (que no es un toggle)
    if (isMobile() && e.target.tagName === 'A' && (!e.target.closest('.menu-item-wrapper') || e.target.closest('.submenu'))) {
      closeMobileMenu();
    }
  });
  
  // 5. Agregar Listener para Focus Trap
  document.addEventListener('keydown', handleFocusTrap);

  // 6. Gestionar el cambio de tama√±o de la ventana
  window.addEventListener('resize', () => {
    // Si pasamos a vista de escritorio, nos aseguramos de que el men√∫ m√≥vil est√© cerrado y visible
    if (!isMobile()) {
      if (menu.classList.contains('active')) {
        closeMobileMenu();
      }
      menu.setAttribute('aria-hidden', 'false'); // Debe ser accesible en escritorio
    } else {
      // Si pasamos a m√≥vil, nos aseguramos de que el estado ARIA sea correcto
      menu.setAttribute('aria-hidden', !menu.classList.contains('active'));
    }

    // Recalcular la altura de los submen√∫s abiertos al redimensionar, para evitar cortes
    document.querySelectorAll('.has-submenu.open .submenu').forEach(submenu => {
      submenu.style.maxHeight = `${submenu.scrollHeight}px`;
    });
  });

  // --- ESTADO INICIAL ---
  // Al cargar la p√°gina, asegura que el estado ARIA del men√∫ sea el correcto
  const setInitialAriaState = () => {
    // Solo oculta si estamos en m√≥vil Y no tiene la clase 'active'
    if (isMobile() && !menu.classList.contains('active')) {
        menu.setAttribute('aria-hidden', 'true');
    } else {
        menu.setAttribute('aria-hidden', 'false');
    }
  };

  setInitialAriaState();
});
</script>
    <script type="module" src="./assets/js/web-components/icono-chatsbotses.js"></script>
</body>
</html>
